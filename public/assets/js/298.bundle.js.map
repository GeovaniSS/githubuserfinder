{"version":3,"file":"298.bundle.js","mappings":";oaACA,m6MACA,IAAMA,EAAoB,gCAAG,WAAMC,EAAMC,GAAZ,mGAEIC,EAAAA,EAAAA,GAAU,GAAD,OAAIF,EAAJ,uCAAuCC,IAFpD,cAEnBE,EAFmB,OAGnBC,EAAgBD,EAAeE,KAHZ,kBAIlBD,GAJkB,yDAMlB,MANkB,uOAAH,wDAU1B,2QCXA,m6MACA,IAAME,EAAqBC,SAASC,cAAc,cAE5CC,EAA4B,SAAAC,GAAS,OAAIA,EAAUC,KAAI,gBAAGC,EAAH,EAAGA,MAAH,OAAeC,EAAAA,EAAAA,GAAkBD,OAExFE,EAA4B,SAAAJ,GAAS,OAAIA,EAAUK,QAAO,SAACC,EAAKC,GAClE,IAAQC,EAA4BD,EAA5BC,WAAYC,EAAgBF,EAAhBE,KAAMP,EAAUK,EAAVL,MAC1B,OAAOI,EAAM,+CAAH,OAEIE,EAFJ,kIAKWC,GAAOP,EALlB,yCAMWA,EANX,0CAUT,KAUL,QARwB,gCAAG,WAAMR,GAAN,kFACnBgB,EAAoBX,EAA0BL,GAD3B,SAEDiB,QAAQC,IAAIF,GAFX,OAEnBV,EAFmB,OAGnBa,EAAoBT,EAA0BJ,GAEpDJ,EAAmBkB,WAAaD,EALP,yNAAH,uTCnBxB,8hGAAAE,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,0oDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+XAIA,IAAMnB,EAAqBC,SAASC,cAAc,cAC5CkB,EAAcnB,SAASC,cAAc,iBAEvCP,EAAO,EAEE0B,EAAyB,gCAAG,WAAM3B,GAAN,8EACvCA,EAAOA,GAAQ4B,aAAaC,QAAQ,QADG,SAGX9B,EAAqBC,EAAMC,GAHhB,WAGjCG,EAHiC,UAIOA,EAAc0B,QAAmB,IAAT7B,GAJ/B,0CAO9B8B,EAAAA,EAAAA,GAAiB,+BAAgCzB,IAPnB,OASvC0B,EAAmB5B,GAToB,yNAAH,sDAwBtCsB,EAAYO,iBAAiB,UAPI,SAACC,GAChC,MAAkDA,EAAEC,OAA5CC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,aAAtB,EAAoCC,UACUF,GAAgBC,EAAe,KAN7EpC,IACA0B,yCChBF,QARyB,SAACY,EAAKC,GAC7B,IAAMC,EAAelC,SAASmC,cAAc,MAC5CD,EAAaE,UAAUC,IAAI,SAC3BH,EAAaI,UAAYN,EAEzBC,EAAUM,YAAYL","sources":["webpack://githubuserfinder/./src/modules/following/requestUserFollowing.js","webpack://githubuserfinder/./src/modules/following/addFollowsIntoCard.js","webpack://githubuserfinder/./src/modules/following/searchGitHubUserFollowing.js","webpack://githubuserfinder/./src/utils/showEmptyMessage.js"],"sourcesContent":["import gitHubApi from '../../services/gitHubApi'\r\n\r\nconst requestUserFollowing = async(user, page) => {\r\n  try {\r\n    const gitHubResponse = await gitHubApi(`${user}/following?&per_page=5&page=${page}`)\r\n    const userFollowing = gitHubResponse.data\r\n    return userFollowing\r\n  } catch(e) {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default requestUserFollowing","import requestGitHubUser from \"../user/requestGitHubUser\"\r\n\r\nconst followingContainer = document.querySelector('.following')\r\n\r\nconst generateFollowingPromises = following => following.map(({ login }) => requestGitHubUser(login))\r\n\r\nconst generateFollowingTemplate = following => following.reduce((acc, follow) => {\r\n    const { avatar_url, name, login } = follow\r\n    return acc + `\r\n    <div class=\"follow\">\r\n      <img src=\"${avatar_url}\" class=\"following-photo\" alt=\"Foto do perfil Github\">\r\n\r\n      <div class=\"following-content\">\r\n        <h2 id=\"name\">${!name ? login : name}</h2>\r\n        <p id=\"login\">@${login}</p>\r\n      </div>\r\n    </div>\r\n    `\r\n  }, '')\r\n\r\nconst addFollowsIntoCard = async(userFollowing) => {\r\n  const followingPromises = generateFollowingPromises(userFollowing)\r\n  const following = await Promise.all(followingPromises)\r\n  const followingTemplate = generateFollowingTemplate(following)\r\n\r\n  followingContainer.innerHTML += followingTemplate\r\n}\r\n\r\nexport default addFollowsIntoCard","import '../../assets/css/following.css'\r\nimport requestUserFollowing from \"./requestUserFollowing\";\r\nimport addFollowsIntoCard from \"./addFollowsIntoCard\";\r\nimport showEmptyMessage from '../../utils/showEmptyMessage'\r\n\r\nconst followingContainer = document.querySelector('.following')\r\nconst profileCard = document.querySelector('.profile-card')\r\n\r\nlet page = 1\r\n\r\nexport const searchGitHubUserFollowing = async(user) => {\r\n  user = user || localStorage.getItem('user')\r\n\r\n  const userFollowing = await requestUserFollowing(user, page)\r\n  const userNoFollowAnyone = !userFollowing || !userFollowing.length && page === 1\r\n\r\n  if(userNoFollowAnyone) \r\n    return showEmptyMessage('This profile follows 0 users', followingContainer)\r\n\r\n  addFollowsIntoCard(userFollowing)\r\n}\r\n\r\nconst getNextUserFollowing = () => {\r\n  page++\r\n  searchGitHubUserFollowing()\r\n}\r\n\r\nconst handleScrollToCardBottom = (e) => {\r\n  const { clientHeight, scrollHeight, scrollTop } = e.target\r\n  const isCardBottomAlmostReached = scrollTop + clientHeight >= scrollHeight - 10\r\n\r\n  if(isCardBottomAlmostReached) getNextUserFollowing()\r\n}\r\n\r\nprofileCard.addEventListener('scroll', handleScrollToCardBottom)\r\n","const showEmptyMessage = (msg, container) => {\r\n  const emptyMessage = document.createElement('h1')\r\n  emptyMessage.classList.add('error')\r\n  emptyMessage.innerText = msg\r\n  \r\n  container.appendChild(emptyMessage)\r\n}\r\n\r\nexport default showEmptyMessage"],"names":["requestUserFollowing","user","page","gitHubApi","gitHubResponse","userFollowing","data","followingContainer","document","querySelector","generateFollowingPromises","following","map","login","requestGitHubUser","generateFollowingTemplate","reduce","acc","follow","avatar_url","name","followingPromises","Promise","all","followingTemplate","innerHTML","i","profileCard","searchGitHubUserFollowing","localStorage","getItem","length","showEmptyMessage","addFollowsIntoCard","addEventListener","e","target","clientHeight","scrollHeight","scrollTop","msg","container","emptyMessage","createElement","classList","add","innerText","appendChild"],"sourceRoot":""}